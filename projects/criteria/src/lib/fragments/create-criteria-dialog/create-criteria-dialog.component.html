<div class="dialog create-customer-dialog position-relative">
  <h4 class="dialog-title semi-bold">TẠO TIÊU CHUẨN</h4>
  <button
    astButtonIcon
    class="position-absolute top-0 right-0"
    (click)="onCloseDialog()"
  >
    <i class="fa-solid fa-xmark" [style.color]="'#666666'"></i>
  </button>
  <form
    [formGroup]="createCriteriaForm"
    (ngSubmit)="onCreateCriteria(createCriteriaForm)"
  >
    <div class="mb-3">
      <label for="customer-name" class="d-block semi-bold mb-2 required"
        >Tên tiêu chuẩn</label
      >
      <input
        astInput
        id="customer-name"
        type="text"
        class="form-control w-100"
        formControlName="name"
      />
    </div>

    <div class="mb-3">
      <label for="customer-phone" class="d-block semi-bold mb-2"
        >Phân loại đánh giá</label
      >
      <div
        formArrayName="grades"
        class="grades d-flex justify-content-center flex-column align-items-center"
      >
        <div
          *ngFor="let grade of getGrades().controls; let i = index"
          class="d-flex justify-content-between align-items-center w-100"
        >
          <p class="d-inline-block">Loại {{ getChar(i) }}:</p>
          <input
            astInput
            id="customer-phone"
            type="text"
            class="form-control d-inline-block"
            readonly
            [value]="getGrades().controls[i - 1]?.value.allowedPoint || 0"
          />
          <p class="d-inline-block">–</p>

          <div [formGroupName]="i">
            <input
              astInput
              id="customer-phone"
              type="text"
              class="form-control d-inline-block"
              formControlName="allowedPoint"
            />
          </div>

          <select astSelect [value]="unit" (change)="onChangeUnit($event)">
            <option value="YARD">100đ/yard</option>
            <option value="SQUARE_YARD">100đ/yard²</option>
            <option value="METER">100đ/m</option>
            <option value="SQUARE_METER">100đ/m²</option>
          </select>
        </div>
        <div>
          <button
            type="button"
            astButtonOutline
            class="mt-4"
            (click)="onRemoveGrade()"
            *ngIf="getGrades().controls.length > 1"
            color="#B9C8CF"
          >
            <i class="fa-solid fa-minus"></i>
          </button>
          <button
            type="button"
            astButtonOutline
            class="mt-4"
            (click)="onAddGrade()"
            *ngIf="getGrades().controls.length <= 4"
            color="#B9C8CF"
          >
            <i class="fa-solid fa-plus"></i>
          </button>
        </div>
      </div>
    </div>

    <div class="submit-btn">
      <button astButtonSolid type="submit" class="w-100">Tạo tiêu chuẩn</button>
    </div>
  </form>
</div>
